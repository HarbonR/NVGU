8 Лабораторная работа 1 часть 13 задание
13. Дан файл, содержащий текст. Подсчитать количество слов, начинающихся и заканчивающихся на одну и ту же букву, и 
вывести их в другой файл.
//====================================================================================================
#include <stdio.h> /// Библиотека ввода-вывода Си
#include <windows.h> /// Библиотека для работы с системными функциями

/// Функция для обнуления строки. Заполняет строки тернирующими нулями. '\0' - Тернирующий ноль означает конец строки
void fillTZero (char *inputString, int lengthString)
{
    for (int i = 0; i < lengthString; i++)
    {
        inputString[i] = '\0';
    }
}

int main()
{
    system("chcp 1251"); /// Локализуем русский язык
    //====================================================================================================
    FILE *inputFile; /// Объявляем переменную типа файл
    FILE *outputFile; /// Объявляем переменную типа файл
    char inputString[100]; /// Переменная входящая строка
    int lengthInputString = 0; /// Длина входящей строки
    char outputSring[100]; /// Переменная выходящая строка
    char variableWord[30]; /// Переменное слово
    int numberWords = 0; /// Количество слов начинающихся и заканчивающихся на одну и ту же букву
    int indexVariableWord = 0; /// Индекс для переменной variableWord
    fillTZero (variableWord, 30); /// Обнуляем строку
    printf ("Введите строку: ");
    gets (outputSring); /// Функция gets считывает символы из стандартного потока ввода до символа новой строки n
    //====================================================================================================
    /// Открываем файл и записывем в файл строку outputSring
    inputFile = fopen ("inputFile.txt", "wt"); /// Открываем текстовый файл для записи
    if (inputFile == NULL)
    {
        printf ("Ошибка открытия файла");
    }
    else
    {
        fputs (outputSring, inputFile); /// Функция fputs записывает строку, указанную в параметре string в поток filestream
        fclose(inputFile); /// Закрываем файл
    }
    //====================================================================================================
    /// Открываем и считываем данные из файла. Помещаем данные в переменную inputString
    inputFile = fopen ("inputFile.txt", "rt"); /// Открываем текстовый файл для чтения
    if (inputFile == NULL)
    {
        printf ("Ошибка открытия файла");
    }
    else
    {
        fgets (inputString, 100, inputFile); /// Функция fgets считывает символы из потока и сохраняет их в виде строки в параметр string до тех пор пока не наступит конец строки или пока не будет достигнут конец файла.
        fclose(inputFile); /// Закрываем файл
    }
    //====================================================================================================
    /// Проверяем есть ли пробел в конце строки. Если нет добавляем
    for (int i = 0; inputString[i] != '\0'; i++)
        lengthInputString++; /// Инкриментим переменную (увеличиваем значение переменной на 1)
    if (inputString[lengthInputString - 1] != ' ') /// Если в конце не пробел
        inputString[lengthInputString] = ' '; /// Добавляем пробел в конец
    //====================================================================================================
    /// Открываем файл для записи (для очистки файла)
    outputFile = fopen ("outputFile.txt", "wt");
    if (outputFile == NULL)
        printf ("Ошибка открытия файла");
    else
        fclose (outputFile); /// Закрываем файл
    //====================================================================================================
    /// Посчитываем количество слов начинающихся и заканчивающихся на одну и ту же букву, и выводим их в файл
    outputFile = fopen ("outputFile.txt", "at"); /// Открываем файл для записи в конец
    if (outputFile == NULL)
    {
        printf ("Ошибка открытия файла");
    }
    else
    {
        /// Пробегаемся по строке
        for (int i = 0; inputString[i] != '\0'; i++)
        {
            if (inputString[i] == ' ') /// Если элемент под индексом i пробел выполнить
            {
                if (variableWord[0] == variableWord[indexVariableWord - 1]) /// Если первый элемент переменного слова равен последнему
                {
                    fputs (variableWord, outputFile); /// Записываем переменное слово в конец файла
                    fputc (' ', outputFile); /// Записываем пробел (для разделения слов) в конец файла
                    numberWords++; /// Инкриментим переменную (увеличиваем значение переменной на 1)
                }
                indexVariableWord = 0; /// Обнуляем переменную
                fillTZero (variableWord, 30); /// Обнуляем строку
            }
            else
            {
                variableWord[indexVariableWord] = inputString[i];
                indexVariableWord++; /// Инкрементим переменную indexVariableWord (увеличиваем значение переменной на 1)
            }
        }
        fclose(outputFile); /// Закрываем файл
    }
    printf ("Количество слов начинающихся и заканчивающихся на одну и ту же букву = %d", numberWords);
    //====================================================================================================
    return 0;
}
//====================================================================================================